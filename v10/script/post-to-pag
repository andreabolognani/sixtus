#!/usr/bin/python
# -*- encoding: utf-8 -*-

import sys

if len(sys.argv) != 7:
	params = ['<input file>', '<output file>',
		'<relation file>', '<names file>',
		'<this year>', '<this month>']
	print('Usage: %s %s' % (sys.argv[0], ' '.join(params)))
	sys.exit(1)

input_file  = sys.argv[1]
output_file = sys.argv[2]
rel_file    = sys.argv[3]
name_file   = sys.argv[4]
this_year   = sys.argv[5]
this_month  = sys.argv[6]

from relater import Relater
from poster import Poster

r = Relater(rel_file, name_file)
r.relate(this_year, this_month)

p = Poster(r.this_page, r.prev_page, r.next_page)
p.parse_file(input_file)
p.output_pag_file(output_file)
